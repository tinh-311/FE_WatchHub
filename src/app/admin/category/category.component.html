<div class="mb-2 d-flex justify-content-end">
  <p-button (onClick)="showModalAddNew()" label="Add New"></p-button>
</div>
<p-table
  [value]="categories"
  dataKey="id"
  [loading]="idLoading"
  [lazy]="true"
  [rows]="rowsPerPage"
  [globalFilterFields]="[
    'id',
    'category_name  ',
    'created_date',
    'updated_date'
  ]"
>
  <ng-template pTemplate="header">
    <tr>
      <th>
        ID
      </th>
      <th pSortableColumn="category_name">
        Tên danh mục
      </th>
      <th pSortableColumn="created_date">
        Ngày tạo
      </th>
      <th pSortableColumn="updated_date">
        Ngày chỉnh sửa
      </th>

      <th></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-category>
    <tr>
      <td>{{ category?.id }}</td>
      <td>{{ category?.category_name }}</td>
      <td>{{ category?.created_date | date : "dd/MM/YYYY HH:ss:mm" }}</td>
      <td>{{ category?.updated_date | date : "dd/MM/YYYY HH:ss:mm" }}</td>
      <td>
        <p-button
          (onClick)="editCategory(category)"
          class="mr-4"
          icon="pi pi-file-edit"
          styleClass="p-button-rounded p-button-warning"
        ></p-button>
        <p-button
          (onClick)="deleteCategory(category)"
          icon="pi pi-times"
          styleClass="p-button-rounded p-button-danger"
        ></p-button>
      </td>
    </tr>
  </ng-template>
</p-table>
<p-paginator
  [rows]="rowsPerPage"
  [totalRecords]="totalCount"
  (onPageChange)="onPageChanged($event)"
></p-paginator>
<span class="d-flex justify-content-center text-secondary">
  Tổng danh mục: {{ totalCount }}
</span>
