<div class="mb-2">
  <p-button (onClick)="showModalAddNew()" label="Add New"></p-button>
</div>
<p-table
  [value]="categories"
  dataKey="id"
  [loading]="idLoading"
  [lazy]="true"
  [rows]="rowsPerPage"
  [globalFilterFields]="['category_name  ', 'created_date', 'updated_date']"
>
  <ng-template pTemplate="header">
    <tr>
      <th>
        ID
        <p-columnFilter
          type="number"
          field="id"
          display="menu"
        ></p-columnFilter>
      </th>
      <th pSortableColumn="category_name">
        Name
        <p-sortIcon field="category_name"></p-sortIcon>
        <p-columnFilter
          type="text"
          field="category_name"
          display="menu"
        ></p-columnFilter>
      </th>
      <th pSortableColumn="created_date">
        Ngày tạo
        <p-sortIcon field="created_date"></p-sortIcon>
        <p-columnFilter
          type="text"
          field="created_date"
          display="menu"
        ></p-columnFilter>
      </th>
      <th pSortableColumn="updated_date">
        Ngày chỉnh sửa
        <p-sortIcon field="updated_date"></p-sortIcon>
        <p-columnFilter
          type="text"
          field="updated_date"
          display="menu"
        ></p-columnFilter>
      </th>

      <th>
        Action
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-category>
    <tr>
      <td>{{ category?.id }}</td>
      <td>{{ category?.category_name }}</td>
      <td>{{ category?.created_date | date }}</td>
      <td>{{ category?.updated_date | date }}</td>
      <td>
        <p-button (onClick)="editCategory(category)" class="mr-4" icon="pi pi-file-edit" styleClass="p-button-rounded p-button-warning"></p-button>
        <p-button (onClick)="deleteCategory(category?.id)" icon="pi pi-times" styleClass="p-button-rounded p-button-danger"></p-button>
      </td>
    </tr>
  </ng-template>
</p-table>
<p-paginator
  [rows]="rowsPerPage"
  [totalRecords]="totalCount"
  (onPageChange)="onPageChanged($event)"
></p-paginator>
